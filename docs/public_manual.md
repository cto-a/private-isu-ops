# CTO 協会 合同 ISUCON 研修 当日レギュレーション

## 禁止事項

以下の事項は特別に禁止する。

- 他のチームへの妨害と主催者がみなす全ての行為

## サーバ事項

参加者は主催者が用意した Amazon Web Services（以下 AWS）の EC2 インスタンスを 1 台利用する。

## ソフトウェア事項

コンテストにあたり、参加者は与えられたソフトウェア、もしくは自分で競技時間内に実装したソフトウェアを用いる。

高速化対象のソフトウェアとして主催者から Ruby, PHP による Web アプリケーションが与えられる。ただし各々の性能が一致することを主催者は保証しない。どれをベースに用いてもよいし、独自で実装したものを用いてもよい。

競技における高速化対象のアプリケーションとして与えられたアプリケーションから、以下の機能は変更しないこと。

- アクセス先の URI（ポート、および HTTP リクエストパス）
- レスポンス(HTML)の DOM 構造
- JavaScript/CSS ファイルの内容
- 画像および動画等のメディアファイルの内容

各サーバにおけるソフトウェアの入れ替え、設定の変更、アプリケーションコードの変更および入れ替えなどは一切禁止しない。起動したインスタンス以外の外部リソースを利用する行為（他のインスタンスに処理を委譲するなど）は禁止する。

許可される事項には、例として以下のような作業が含まれる。

- DB スキーマの変更やインデックスの作成・削除
- キャッシュ機構の追加、jobqueue 機構の追加による遅延書き込み
- 他の言語による再実装

ただし以下の事項に留意すること。

- コンテスト進行用のメンテナンスコマンドが正常に動作するよう互換性を保つこと
- 各サーバの設定およびデータ構造は任意のタイミングでのサーバ再起動に耐えること
- サーバ再起動後にすべてのアプリケーションコードが正常動作する状態を維持すること
- ベンチマーク実行時にアプリケーションに書き込まれたデータは再起動後にも取得できること

# 採点

採点は採点条件（後述）をクリアした参加者の間で、性能値（後述）の高さを競うものとする。

採点条件として、以下の各チェックの検査を通過するものとする。

- 負荷走行中、POST したデータが、POST への HTTP レスポンスを返してから即座に関連する URI GET のレスポンスデータに反映されていること
- レスポンス HTML の DOM 構造が変化していないこと
- ブラウザから対象アプリケーションにアクセスした結果、ページ上の表示および各種動作が正常であること

性能値として、以下の指標を用いる。

- 計測ツールの実行時間は 1 分間とする
  - 細かい閾値ならびに配点についての詳細は当日のマニュアルに記載する
- 計測時間内の HTTP リクエスト成功数をベースとする
  - リクエストの種類毎に配点を変更する
  - エラーの数により減点する
