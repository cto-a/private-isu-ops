# private-isu-ops

CTO 協会の新人向け ISUCON 準備のリポジトリです

## 運用手順

### ポータル

#### アプリケーションのデプロイ

[サブモジュールのリポジトリ](https://github.com/kesompochy/cto-a-isucon-portal)において、master ブランチに対して変更を push することで、自動的にデプロイが行われます。

このデプロイプロセスでは Amplify が使用されています。

#### 当日の手順

作業を開始する前に、ローカル端末に AWS CLI がインストールされていることを確認してください。
AWS CLI を使用して AWS リソースを操作するための適切な権限があることを確認してください。このためには、~/.aws ディレクトリに設定ファイルと認証情報が格納されている必要があります。必要であれば、適切な権限を持つ IAM ユーザーを作成してください。

`./portal/bin/.env.sample`ファイルを`.env`としてコピーします。そして、この`.env`ファイルに適切な API エンドポイントと API キーを入力してください。エンドポイントとキーは、AWS コンソールの Amplify のセクションから確認できます。

```bash
cp ./portal/bin/.env.sample ./portal/bin/.env
```

その後、.env ファイルをエディタで開いて必要な情報を記入します。

`./portal/bin/run_initialization.sh`スクリプトを使用してデータベースとユーザー情報をリセットします。このスクリプトは引数としてチーム数を受け取ります。例：`./portal/bin/run_initialization.sh 1`

上記スクリプトによって作成されたユーザーアカウントとパスワードを各チームに配布します。これにより、各チームは新しくリセットされたデータベース環境で作業を開始できます。

これらの手順を通じて、当日の運用がスムーズに進むように準備し、チームが必要なリソースにアクセスできるようにします。
